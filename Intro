// PortFolio Website

import React, { useState, useRef } from 'react';
import { Linkedin, FileText, User, Mail, ExternalLink, Code, Briefcase } from 'lucide-react';

export default function Portfolio() {
  // STATE: Stores data that can change
  const [profileImage, setProfileImage] = useState(null);
  
  // REFS: References to HTML elements for scrolling
  const homeRef = useRef(null);
  const aboutRef = useRef(null);
  const projectsRef = useRef(null);
  const contactRef = useRef(null);

  // DATA: All your portfolio information in one place
  const portfolioData = {
    name: "Collin Malloy",
    title: "Computer Repair Technician",
    email: "collinraymalloy@gmail.com",
    linkedIn: "https://www.linkedin.com/in/collinmalloy/",
    resumeLink: "https://1drv.ms/b/c/b9cc57ad095052e4/EfeAoRfw-QlOuNu3sevMInIB9mTgH-7Wahj5lpdqzLoMcQ?e=pn2URK",
    aboutMe: {
      intro: "Hello, my name is Collin. I currently work as a computer repair technician, where I enjoy diagnosing hardware and software issues and helping people get their systems running smoothly. My passion for technology continues to grow, especially in the areas of networking and cybersecurity, where I’m eager to expand my knowledge and skills to take on more advanced challenges in the tech field.",
      skills: ["React", "Node.js", "Python", "SQL","C#","HTML/CSS", "Packet Tracer"],
      experience: "I have experience troubleshooting customer devices through a ticket system, repairing iPhone devices, and .",
      interests: "When I'm not trying to learn more about Cisco networks, I am going to the gym and spending time with my family."
    },
    projects: [
      {
        title: "Project One",
        description: "A full-stack web application built with React and Node.js. Features user authentication, real-time updates, and responsive design.",
        technologies: ["React", "Node.js", "MongoDB"],
        link: "https://github.com/yourusername/project1"
      },
      {
        title: "Project Two",
        description: "An interactive data visualization dashboard that displays complex data in an intuitive and engaging way.",
        technologies: ["JavaScript", "D3.js", "Python"],
        link: "https://github.com/yourusername/project2"
      },
      {
        title: "Project Three",
        description: "A mobile-responsive e-commerce platform with cart functionality, payment integration, and admin dashboard.",
        technologies: ["React", "Express", "SQL"],
        link: "https://github.com/yourusername/project3"
      }
    ]
  };

  // FUNCTION: Handles image upload
  const handleImageUpload = (e) => {
    const file = e.target.files[0];  // Get the selected file
    if (file) {
      const reader = new FileReader();  // Create file reader
      reader.onloadend = () => {
        setProfileImage(reader.result);  // Save image as base64 string
      };
      reader.readAsDataURL(file);  // Convert to data URL
    }
  };

  // FUNCTION: Smooth scroll to section
  const scrollToSection = (ref) => {
    ref.current?.scrollIntoView({ behavior: 'smooth' });
  };

  // COMPONENT: Navigation Bar
  const Navigation = () => (
    <nav className="fixed top-0 left-0 right-0 bg-gray-900 bg-opacity-95 backdrop-blur-sm z-50 border-b border-gray-800">
      <div className="max-w-6xl mx-auto px-4 py-4">
        <div className="flex justify-between items-center">
                      <h1 className="text-xl font-bold bg-gradient-to-r from-gray-200 to-gray-400 bg-clip-text text-transparent">
            {portfolioData.name}
          </h1>
          <div className="flex gap-6">
            <button
              onClick={() => scrollToSection(homeRef)}
              className="text-gray-300 hover:text-white transition-colors font-medium"
            >
              Home
            </button>
            <button
              onClick={() => scrollToSection(aboutRef)}
              className="text-gray-300 hover:text-white transition-colors font-medium"
            >
              About
            </button>
            <button
              onClick={() => scrollToSection(projectsRef)}
              className="text-gray-300 hover:text-white transition-colors font-medium"
            >
              Projects
            </button>
            <button
              onClick={() => scrollToSection(contactRef)}
              className="text-gray-300 hover:text-white transition-colors font-medium"
            >
              Contact
            </button>
          </div>
        </div>
      </div>
    </nav>
  );

  // COMPONENT: Home Section
  const HomeSection = () => (
    <section ref={homeRef} className="min-h-screen flex items-center justify-center px-4 pt-20">
      <div className="text-center">
        {/* Profile Image with Upload Button */}
        <div className="relative mb-8 inline-block">
          <div className="w-48 h-48 rounded-full overflow-hidden border-4 border-gray-500 shadow-2xl">
            {profileImage ? (
              <img src={profileImage} alt="Profile" className="w-full h-full object-cover" />
            ) : (
              <div className="w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center">
                <User size={80} className="text-white opacity-50" />
              </div>
            )}
          </div>
          {/* Upload Button */}
          <label className="absolute bottom-2 right-2 bg-gray-600 hover:bg-gray-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition-all transform hover:scale-110">
            <input
              type="file"
              accept="image/*"
              onChange={handleImageUpload}
              className="hidden"
            />
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
          </label>
        </div>
        
        {/* Name and Title */}
        <h1 className="text-5xl md:text-6xl font-bold mb-4 bg-gradient-to-r from-gray-100 to-gray-400 bg-clip-text text-transparent">
          {portfolioData.name}
        </h1>
        <p className="text-2xl text-gray-400 mb-8">{portfolioData.title}</p>
        
        {/* Quick Links */}
        <div className="flex gap-4 justify-center mb-12">
          <a href={`mailto:${portfolioData.email}`} className="p-3 bg-gray-800 hover:bg-gray-700 rounded-full transition-all transform hover:scale-110">
            <Mail size={24} className="text-gray-300" />
          </a>
          <a href={portfolioData.linkedIn} target="_blank" rel="noopener noreferrer" className="p-3 bg-gray-800 hover:bg-gray-700 rounded-full transition-all transform hover:scale-110">
            <Linkedin size={24} className="text-gray-300" />
          </a>
        </div>

        {/* Action Buttons */}
        <div className="flex gap-4 justify-center">
          <button
            onClick={() => scrollToSection(projectsRef)}
            className="px-8 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-all transform hover:scale-105 shadow-lg"
          >
            View Projects
          </button>
          <a
            href={portfolioData.resumeLink}
            target="_blank"
            rel="noopener noreferrer"
            className="px-8 py-3 bg-gray-800 hover:bg-gray-700 rounded-lg font-medium transition-all transform hover:scale-105 shadow-lg flex items-center gap-2"
          >
            Resume <ExternalLink size={16} />
          </a>
        </div>
      </div>
    </section>
  );

  // COMPONENT: About Section
  const AboutSection = () => (
    <section ref={aboutRef} className="min-h-screen flex items-center justify-center px-4 py-20">
      <div className="max-w-4xl w-full">
        <div className="bg-gray-900 rounded-3xl p-8 md:p-12 shadow-2xl border border-gray-800">
          <div className="flex items-center gap-3 mb-8">
            <User size={32} className="text-gray-400" />
            <h2 className="text-4xl font-bold text-white">About Me</h2>
          </div>
          
          <div className="space-y-8 text-gray-300">
            {/* Introduction */}
            <div>
              <h3 className="text-2xl font-semibold text-white mb-3">Introduction</h3>
              <p className="leading-relaxed text-lg">{portfolioData.aboutMe.intro}</p>
            </div>

            {/* Skills */}
            <div>
              <h3 className="text-2xl font-semibold text-white mb-4">Skills</h3>
              <div className="flex flex-wrap gap-3">
                {portfolioData.aboutMe.skills.map((skill, index) => (
                  <span
                    key={index}
                    className="px-4 py-2 bg-gray-700 bg-opacity-60 border border-gray-600 text-gray-200 rounded-lg text-sm font-medium"
                  >
                    {skill}
                  </span>
                ))}
              </div>
            </div>

            {/* Experience */}
            <div>
              <h3 className="text-2xl font-semibold text-white mb-3">Experience</h3>
              <p className="leading-relaxed text-lg">{portfolioData.aboutMe.experience}</p>
            </div>

            {/* Interests */}
            <div>
              <h3 className="text-2xl font-semibold text-white mb-3">Interests</h3>
              <p className="leading-relaxed text-lg">{portfolioData.aboutMe.interests}</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  );

  // COMPONENT: Projects Section
  const ProjectsSection = () => (
    <section ref={projectsRef} className="min-h-screen flex items-center justify-center px-4 py-20">
      <div className="max-w-6xl w-full">
        <div className="flex items-center gap-3 mb-12 justify-center">
          <Code size={32} className="text-gray-400" />
          <h2 className="text-4xl font-bold text-white">Projects</h2>
        </div>
        
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {portfolioData.projects.map((project, index) => (
            <div
              key={index}
              className="bg-gray-900 rounded-2xl p-6 shadow-xl border border-gray-800 hover:border-gray-600 transition-all transform hover:scale-105"
            >
              <h3 className="text-xl font-bold text-white mb-3">{project.title}</h3>
              <p className="text-gray-400 mb-4 leading-relaxed">{project.description}</p>
              
              {/* Technologies */}
              <div className="flex flex-wrap gap-2 mb-4">
                {project.technologies.map((tech, i) => (
                  <span
                    key={i}
                    className="px-3 py-1 bg-gray-700 bg-opacity-60 border border-gray-600 text-gray-200 rounded-full text-xs"
                  >
                    {tech}
                  </span>
                ))}
              </div>
              
              {/* Link */}
              <a
                href={project.link}
                target="_blank"
                rel="noopener noreferrer"
                className="inline-flex items-center gap-2 text-gray-300 hover:text-white transition-colors"
              >
                View Project <ExternalLink size={16} />
              </a>
            </div>
          ))}
        </div>
      </div>
    </section>
  );

  // COMPONENT: Contact Section
  const ContactSection = () => (
    <section ref={contactRef} className="min-h-screen flex items-center justify-center px-4 py-20">
      <div className="max-w-2xl w-full text-center">
        <div className="bg-gray-900 rounded-3xl p-12 shadow-2xl border border-gray-800">
          <div className="flex items-center gap-3 mb-8 justify-center">
            <Mail size={32} className="text-gray-400" />
            <h2 className="text-4xl font-bold text-white">Get In Touch</h2>
          </div>
          
          <p className="text-gray-400 text-lg mb-8 leading-relaxed">
            I'm always open to new opportunities and collaborations. Feel free to reach out!
          </p>
          
          <div className="flex flex-col sm:flex-row gap-4 justify-center">
            <a
              href={`mailto:${portfolioData.email}`}
              className="px-8 py-4 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-all transform hover:scale-105 shadow-lg flex items-center justify-center gap-2"
            >
              <Mail size={20} />
              Email Me
            </a>
            <a
              href={portfolioData.linkedIn}
              target="_blank"
              rel="noopener noreferrer"
              className="px-8 py-4 bg-gray-800 hover:bg-gray-700 rounded-lg font-medium transition-all transform hover:scale-105 shadow-lg flex items-center justify-center gap-2"
            >
              <Linkedin size={20} />
              LinkedIn
            </a>
          </div>
        </div>
        
        <p className="text-gray-500 mt-8">© 2025 {portfolioData.Collin Malloy}. All rights reserved.</p>
      </div>
    </section>
  );

  // MAIN RENDER: Puts everything together
  return (
    <div className="bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white">
      <Navigation />
      <HomeSection />
      <AboutSection />
      <ProjectsSection />
      <ContactSection />
    </div>
  );
}
